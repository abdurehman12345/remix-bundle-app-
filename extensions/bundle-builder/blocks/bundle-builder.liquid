{% schema %}
{
  "name": "Bundle Builder 3D",
  "target": "section",
  "stylesheet": "bundle.css",
  "javascript": "bundle.js",
  "settings": [
    
    {
      "type": "header",
      "content": "Bundle Configuration"
    },
    {
      "type": "text",
      "id": "bundle_id",
      "label": "Bundle ID",
      "info": "Leave empty to show all bundles"
    },
    {
      "type": "text",
      "id": "api_url",
      "label": "API URL",
      "default": "/apps/bundles",
      "info": "API endpoint for bundle data"
    },
    {
      "type": "header",
      "content": "3D Ring Carousel Settings"
    },
    {
      "type": "checkbox",
      "id": "enable_3d_ring",
      "label": "Enable 3D Ring Carousel",
      "default": true,
      "info": "Display bundles in a rotating 3D ring formation"
    },
    {
      "type": "range",
      "id": "ring_radius",
      "min": 200,
      "max": 600,
      "step": 50,
      "unit": "px",
      "label": "Ring radius",
      "default": 400,
      "info": "Size of the 3D ring carousel"
    },
    {
      "type": "range",
      "id": "ring_tilt",
      "min": 0,
      "max": 30,
      "step": 5,
      "unit": "deg",
      "label": "Ring tilt angle",
      "default": 15,
      "info": "3D perspective tilt of the ring"
    },
    {
      "type": "checkbox",
      "id": "enable_autoplay",
      "label": "Enable autoplay",
      "default": true,
      "info": "Automatically rotate through bundles"
    },
    {
      "type": "range",
      "id": "autoplay_speed",
      "min": 2,
      "max": 10,
      "step": 1,
      "unit": "s",
      "label": "Autoplay speed",
      "default": 5,
      "info": "Time between automatic rotations"
    },
    {
      "type": "header",
      "content": "Visual Enhancements"
    },
    {
      "type": "checkbox",
      "id": "enable_glassmorphism",
      "label": "Enable glassmorphism effects",
      "default": true,
      "info": "Modern glass-like transparency effects"
    },
    {
      "type": "checkbox",
      "id": "show_floating_icons",
      "label": "Show floating decorative icons",
      "default": true,
      "info": "Animated floating icons in header"
    },
    {
      "type": "checkbox",
      "id": "show_progress_bar",
      "label": "Show progress indicator",
      "default": true,
      "info": "Display carousel progress bar"
    },
    {
      "type": "checkbox",
      "id": "enable_parallax",
      "label": "Enable parallax mouse effects",
      "default": true,
      "info": "Subtle 3D movement following mouse cursor"
    },
    {
      "type": "select",
      "id": "card_style",
      "label": "Card style",
      "options": [
        {
          "value": "modern",
          "label": "Modern Glassmorphism"
        },
        {
          "value": "premium",
          "label": "Premium Gradient"
        },
        {
          "value": "minimal",
          "label": "Minimal Clean"
        }
      ],
      "default": "modern",
      "info": "Choose the visual style for bundle cards"
    },
    {
      "type": "header",
      "content": "Interactive Features"
    },
    {
      "type": "checkbox",
      "id": "enable_haptic_feedback",
      "label": "Enable haptic feedback",
      "default": true,
      "info": "Vibration feedback on mobile devices"
    },
    {
      "type": "checkbox",
      "id": "show_discount_badges",
      "label": "Show animated discount badges",
      "default": true,
      "info": "Pulsing discount percentage badges"
    },
    {
      "type": "checkbox",
      "id": "enable_touch_gestures",
      "label": "Enhanced touch gestures",
      "default": true,
      "info": "Improved swipe and touch interactions"
    },
    {
      "type": "checkbox",
      "id": "show_bundle_stats",
      "label": "Show bundle statistics",
      "default": true,
      "info": "Display ratings, shipping info, etc."
    },
    {
      "type": "header",
      "content": "Performance & Accessibility"
    },
    {
      "type": "checkbox",
      "id": "reduced_motion_support",
      "label": "Respect reduced motion preference",
      "default": true,
      "info": "Disable animations for users who prefer reduced motion"
    },
    {
      "type": "checkbox",
      "id": "high_contrast_mode",
      "label": "High contrast mode support",
      "default": true,
      "info": "Enhanced contrast for better accessibility"
    },
    {
      "type": "checkbox",
      "id": "keyboard_navigation",
      "label": "Enhanced keyboard navigation",
      "default": true,
      "info": "Full keyboard control of the carousel"
    },
    {
      "type": "checkbox",
      "id": "preload_images",
      "label": "Preload bundle images",
      "default": true,
      "info": "Faster loading with image preloading"
    }
  ]
}
{% endschema %}

{%- comment -%}
Enhanced Bundle Builder Section - 3D Ring Carousel
Revolutionary 3D ring carousel with modern glassmorphism design
{%- endcomment -%}

{%- liquid
  assign s = section.settings

  assign bundle_id = s.bundle_id | strip
  assign api_url = s.api_url | default: '/apps/bundles'
  assign enable_3d_ring = s.enable_3d_ring
  assign ring_radius = s.ring_radius | default: 400
  assign ring_tilt = s.ring_tilt | default: 15
  assign enable_autoplay = s.enable_autoplay
  assign autoplay_speed = s.autoplay_speed | times: 1000
  assign hero_title = 'Premium Collection'
  assign hero_subtitle = 'Special bundles curated with care for our customers.'
  assign hero_emoji = 'üéÅ'
  assign hero_color_start = '#6366f1'
  assign hero_color_end = '#8b5cf6'
  assign hero_text_color = '#ffffff'
  assign enable_glassmorphism = s.enable_glassmorphism
  assign show_floating_icons = s.show_floating_icons
  assign show_progress = s.show_progress_bar
  assign enable_parallax = s.enable_parallax
  assign card_style = s.card_style | default: 'modern'
  assign enable_haptic = s.enable_haptic_feedback
  assign show_discount_badges = s.show_discount_badges
  assign enable_touch = s.enable_touch_gestures
  assign show_stats = s.show_bundle_stats
  assign reduced_motion = s.reduced_motion_support
  assign high_contrast = s.high_contrast_mode
  assign keyboard_nav = s.keyboard_navigation
  assign preload_images = s.preload_images
-%}

{%- comment -%} Enhanced configuration script {%- endcomment -%}
<script>
  window.ENHANCED_BUNDLE_CONFIG = {
    sectionId: '{{ section.id }}',
    enable3DRing: {{ enable_3d_ring | json }},
    ringRadius: {{ ring_radius | json }},
    ringTilt: {{ ring_tilt | json }},
    heroTitle: {{ hero_title | json }},
    heroSubtitle: {{ hero_subtitle | json }},
    heroEmoji: {{ hero_emoji | json }},
    heroColorStart: {{ hero_color_start | json }},
    heroColorEnd: {{ hero_color_end | json }},
    heroTextColor: {{ hero_text_color | json }},
    glassmorphism: {{ enable_glassmorphism | json }},
    floatingIcons: {{ show_floating_icons | json }},
    progressBar: {{ show_progress | json }},
    parallax: {{ enable_parallax | json }},
    cardStyle: {{ card_style | json }},
    hapticFeedback: {{ enable_haptic | json }},
    discountBadges: {{ show_discount_badges | json }},
    touchGestures: {{ enable_touch | json }},
    bundleStats: {{ show_stats | json }},
    autoplaySpeed: {{ autoplay_speed | json }},
    reducedMotion: {{ reduced_motion | json }},
    keyboardNav: {{ keyboard_nav | json }},
    preloadImages: {{ preload_images | json }}
  };
</script>

{%- comment -%} Dynamic CSS custom properties {%- endcomment -%}
<style>
  :root {
    --bb-ring-radius: {{ ring_radius }}px;
    --bb-ring-tilt: {{ ring_tilt }}deg;
    --bb-primary: {{ settings.colors_accent_1 | default: '#6366f1' }};
    --bb-primary-hover: {{ settings.colors_accent_1 | color_darken: 10 | default: '#4f46e5' }};
    --bb-text: {{ settings.colors_text | default: '#1f2937' }};
    --bb-background: {{ settings.colors_background_1 | default: '#ffffff' }};
    --bb-hero-start: {{ hero_color_start }};
    --bb-hero-end: {{ hero_color_end }};
    --bb-hero-text: {{ hero_text_color }};
  }
</style>

{%- comment -%} Override hero header colors using CSS variables {%- endcomment -%}
<style>
  .bb__header {
    background: linear-gradient(135deg, var(--bb-hero-start, var(--bb-primary)) 0%, var(--bb-hero-end, #8b5cf6) 100%);
    color: var(--bb-hero-text, var(--bb-white));
  }
</style>

{%- comment -%} Enhanced bundle builder container {%- endcomment -%}
<div 
  id="bundle-builder-{{ section.id }}" 
  class="enhanced-bundle-container bb-3d-ring"
  data-bundle-id="{{ bundle_id }}" 
  data-api-url="{{ api_url }}"
  data-enable-3d-ring="{{ enable_3d_ring }}"
  data-ring-radius="{{ ring_radius }}"
  data-ring-tilt="{{ ring_tilt }}"
  data-enable-autoplay="{{ enable_autoplay }}"
  data-autoplay-speed="{{ autoplay_speed }}"
  data-card-style="{{ card_style }}"
  data-section-id="{{ section.id }}"
  data-hero-title="{{ hero_title }}"
  data-hero-subtitle="{{ hero_subtitle }}"
  data-hero-emoji="{{ hero_emoji }}"
  data-hero-color-start="{{ hero_color_start }}"
  data-hero-color-end="{{ hero_color_end }}"
  data-hero-text-color="{{ hero_text_color }}"
  role="main"
  aria-label="Enhanced 3D Ring Bundle Builder Interface"
  {% if high_contrast %}data-high-contrast="true"{% endif %}
  {% if reduced_motion %}data-reduced-motion="true"{% endif %}
  {% if keyboard_nav %}data-keyboard-nav="true"{% endif %}
  {% if enable_glassmorphism %}data-glassmorphism="true"{% endif %}
  {% if enable_parallax %}data-parallax="true"{% endif %}>
  
  {%- comment -%} Enhanced loading state with 3D effects {%- endcomment -%}
  <div class="bb__loading bb__loading--3d" role="status" aria-live="polite">
    <div class="bb__loading-container">
      <div class="bb__loading-spinner bb__loading-spinner--3d" aria-hidden="true">
        <div class="bb__spinner-ring bb__spinner-ring--outer"></div>
        <div class="bb__spinner-ring bb__spinner-ring--middle"></div>
        <div class="bb__spinner-ring bb__spinner-ring--inner"></div>
        <div class="bb__spinner-core"></div>
      </div>
      <div class="bb__loading-content">
        <h3>Loading 3D Ring Collection</h3>
        <p>Preparing your immersive bundle experience...</p>
        <div class="bb__loading-progress">
          <div class="bb__progress-bar">
            <div class="bb__progress-fill bb__progress-fill--3d"></div>
          </div>
          <span class="bb__progress-text">Initializing 3D engine...</span>
        </div>
      </div>
    </div>
    <span class="sr-only">Please wait while we load your enhanced 3D ring carousel bundle interface.</span>
  </div>

  {%- comment -%} Floating action buttons with 3D effects {%- endcomment -%}
  <div class="bb__floating-actions bb__floating-actions--3d" aria-label="Quick actions">
    <button class="bb__fab bb__fab--help" aria-label="Help and support" title="Need help?">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path>
        <line x1="12" y1="17" x2="12.01" y2="17"></line>
      </svg>
    </button>
    <button class="bb__fab bb__fab--fullscreen" aria-label="Toggle fullscreen" title="Fullscreen mode">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
      </svg>
    </button>
  </div>
</div>

{%- comment -%} Enhanced inline styles for 3D effects {%- endcomment -%}
<style>
  .enhanced-bundle-container {
    width: 100%;
    min-height: 700px;
    position: relative;
    isolation: isolate;
    overflow: hidden;
  }

  .bb-3d-ring {
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%);
    border-radius: 24px;
    padding: 2rem;
    margin: 2rem 0;
  }

  {% if enable_glassmorphism %}
  .bb-3d-ring[data-glassmorphism="true"] {
    background: rgba(248, 250, 252, 0.8);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
  }
  {% endif %}

  .bb__loading--3d {
    text-align: center;
    padding: 4rem 2rem;
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(139, 92, 246, 0.05) 50%, rgba(6, 182, 212, 0.05) 100%);
    border-radius: 24px;
    box-shadow: 
      0 32px 64px rgba(0, 0, 0, 0.1),
      0 0 0 1px rgba(255, 255, 255, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.2);
    margin: 2rem auto;
    max-width: 700px;
    position: relative;
    overflow: hidden;
    transform-style: preserve-3d;
  }

  .bb__loading--3d::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 30% 30%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 70% 70%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
      linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.05) 50%, transparent 70%);
    animation: loading3DShimmer 3s ease-in-out infinite;
  }

  @keyframes loading3DShimmer {
    0%, 100% { 
      opacity: 1; 
      transform: translateZ(0px);
    }
    50% { 
      opacity: 0.7; 
      transform: translateZ(10px);
    }
  }

  .bb__loading-container {
    position: relative;
    z-index: 1;
    transform-style: preserve-3d;
  }

  .bb__loading-spinner--3d {
    width: 100px;
    height: 100px;
    position: relative;
    margin: 0 auto 2rem;
    transform-style: preserve-3d;
  }

  .bb__spinner-ring {
    position: absolute;
    border-radius: 50%;
    border: 3px solid transparent;
    animation: spin3D 2s linear infinite;
  }

  .bb__spinner-ring--outer {
    width: 100%;
    height: 100%;
    border-top: 3px solid var(--bb-primary);
    border-right: 3px solid rgba(99, 102, 241, 0.3);
    animation-duration: 2s;
  }

  .bb__spinner-ring--middle {
    width: 70%;
    height: 70%;
    top: 15%;
    left: 15%;
    border-top: 3px solid #8b5cf6;
    border-right: 3px solid rgba(139, 92, 246, 0.3);
    animation-duration: 1.5s;
    animation-direction: reverse;
  }

  .bb__spinner-ring--inner {
    width: 40%;
    height: 40%;
    top: 30%;
    left: 30%;
    border-top: 3px solid #06b6d4;
    border-right: 3px solid rgba(6, 182, 212, 0.3);
    animation-duration: 1s;
  }

  .bb__spinner-core {
    position: absolute;
    top: 45%;
    left: 45%;
    width: 10%;
    height: 10%;
    background: linear-gradient(135deg, var(--bb-primary), #8b5cf6);
    border-radius: 50%;
    animation: pulse3D 1.5s ease-in-out infinite;
  }

  @keyframes spin3D {
    0% { transform: rotateY(0deg) rotateX(0deg); }
    25% { transform: rotateY(90deg) rotateX(15deg); }
    50% { transform: rotateY(180deg) rotateX(0deg); }
    75% { transform: rotateY(270deg) rotateX(-15deg); }
    100% { transform: rotateY(360deg) rotateX(0deg); }
  }

  @keyframes pulse3D {
    0%, 100% { 
      transform: scale(1) translateZ(0px);
      opacity: 1;
    }
    50% { 
      transform: scale(1.2) translateZ(5px);
      opacity: 0.8;
    }
  }

  .bb__loading-content h3 {
    color: var(--bb-text);
    font-size: 1.75rem;
    font-weight: 800;
    margin: 0 0 0.5rem 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    background: linear-gradient(135deg, var(--bb-primary) 0%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .bb__loading-content p {
    color: #64748b;
    font-size: 1.1rem;
    margin: 0 0 2rem 0;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  .bb__progress-fill--3d {
    height: 100%;
    background: linear-gradient(90deg, var(--bb-primary), #8b5cf6, #06b6d4, var(--bb-primary));
    background-size: 200% 100%;
    border-radius: 3px;
    animation: progress3D 2.5s ease-in-out infinite;
    box-shadow: 
      0 0 20px rgba(99, 102, 241, 0.5),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }

  @keyframes progress3D {
    0% { 
      width: 0%; 
      background-position: 0% 50%;
      transform: translateZ(0px);
    }
    50% { 
      width: 70%; 
      background-position: 100% 50%;
      transform: translateZ(2px);
    }
    100% { 
      width: 100%; 
      background-position: 200% 50%;
      transform: translateZ(0px);
    }
  }

  .bb__floating-actions--3d {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    z-index: 1000;
    transform-style: preserve-3d;
  }

  .bb__fab {
    width: 56px;
    height: 56px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--bb-primary) 0%, #8b5cf6 100%);
    color: white;
    border: none;
    box-shadow: 
      0 12px 30px rgba(99, 102, 241, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    transform-style: preserve-3d;
    overflow: hidden;
  }

  .bb__fab::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%);
    border-radius: 50%;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .bb__fab:hover {
    transform: translateY(-3px) translateZ(10px) scale(1.05);
    box-shadow: 
      0 20px 40px rgba(99, 102, 241, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }

  .bb__fab:hover::before {
    opacity: 1;
  }

  .bb__fab:active {
    transform: translateY(-1px) translateZ(5px) scale(0.98);
  }

  {%- comment -%} Screen reader only content {%- endcomment -%}
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  {%- comment -%} High contrast mode {%- endcomment -%}
  {% if high_contrast %}
  .bb-3d-ring[data-high-contrast="true"] {
    --bb-primary: #0000ff;
    --bb-primary-hover: #0000cc;
    --bb-text: #000000;
    --bb-background: #ffffff;
    border: 3px solid #000000;
    background: #ffffff;
  }
  
  .bb__loading--3d {
    border: 3px solid #000000;
    background: #ffffff;
  }

  .bb__fab {
    border: 2px solid #000000;
  }
  {% endif %}

  {%- comment -%} Reduced motion support {%- endcomment -%}
  {% if reduced_motion %}
  @media (prefers-reduced-motion: reduce) {
    .bb__loading-spinner--3d,
    .bb__spinner-ring,
    .bb__progress-fill--3d,
    .bb__loading--3d::before {
      animation: none;
    }
    
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  {% endif %}

  {%- comment -%} Focus management {%- endcomment -%}
  .enhanced-bundle-container:focus-within {
    outline: 3px solid var(--bb-primary);
    outline-offset: 2px;
  }

  .bb__fab:focus {
    outline: 3px solid #ffffff;
    outline-offset: 2px;
  }

  {%- comment -%} Mobile optimizations {%- endcomment -%}
  @media (max-width: 768px) {
    .bb__loading--3d {
      padding: 2rem 1rem;
      margin: 1rem;
      border-radius: 16px;
    }
    
    .bb__loading-spinner--3d {
      width: 80px;
      height: 80px;
    }

    .bb__floating-actions--3d {
      bottom: 1rem;
      right: 1rem;
    }

    .bb__fab {
      width: 48px;
      height: 48px;
    }
  }

  {%- comment -%} Dark mode support {%- endcomment -%}
  @media (prefers-color-scheme: dark) {
    .bb-3d-ring {
      --bb-text: #f9fafb;
      --bb-background: #1f2937;
      background: linear-gradient(135deg, #374151 0%, #1f2937 50%, #111827 100%);
    }

    .bb__loading--3d {
      background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.1) 50%, rgba(6, 182, 212, 0.1) 100%);
      color: #f9fafb;
    }
  }
</style>

{%- comment -%} Structured data for enhanced SEO {%- endcomment -%}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Product",
  "name": "Premium 3D Ring Collections",
  "description": "Revolutionary 3D ring carousel showcasing curated gift bundles with immersive depth, premium wrapping, personalized messages, and cutting-edge visual effects.",
  "category": "Interactive Gift Sets",
  "brand": {
    "@type": "Brand",
    "name": "{{ shop.name }}"
  },
  "offers": {
    "@type": "AggregateOffer",
    "priceCurrency": "{{ cart.currency.iso_code }}",
    "availability": "https://schema.org/InStock"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.9",
    "reviewCount": "{{ bundles.size | default: 50 }}"
  }
}
</script>

{%- comment -%} Preload critical resources for performance {%- endcomment -%}
<link rel="preload" href="{{ 'bundle.css' | asset_url }}" as="style">
<link rel="preload" href="{{ 'bundle.js' | asset_url }}" as="script">

{%- comment -%} Enhanced error boundary for JavaScript failures {%- endcomment -%}
<script src="{{ 'bundle.js' | asset_url }}" defer onerror="this.onerror=null;document.getElementById('bundle-builder-{{ section.id }}').innerHTML='<div class=bb__error><h3>Loading Error</h3><p>Unable to load bundle interface. Please refresh the page.</p></div>'"></script>

{%- comment -%} Accessibility announcements {%- endcomment -%}
<div aria-live="polite" aria-atomic="true" class="sr-only" id="bundle-announcements-{{ section.id }}">
  {%- comment -%} Dynamic announcements will be inserted here by JavaScript {%- endcomment -%}
</div>

{%- comment -%} Enhanced skip link for keyboard users {%- endcomment -%}
<a href="#bundle-content-{{ section.id }}" class="sr-only bb__skip-link" tabindex="0">
  Skip to 3D bundle content
</a>

{%- comment -%} Main content anchor with enhanced accessibility {%- endcomment -%}
<div id="bundle-content-{{ section.id }}" tabindex="-1" aria-label="3D Ring bundle builder main content">
  {%- comment -%} Content will be dynamically inserted here by enhanced JavaScript {%- endcomment -%}
</div>

{%- comment -%} Performance monitoring {%- endcomment -%}
<script>
  // Track loading performance
  if (typeof performance !== 'undefined') {
    window.addEventListener('load', function() {
      const loadTime = performance.now();
      console.log(`Enhanced 3D Bundle Builder loaded in ${Math.round(loadTime)}ms`);
    });
  }
</script>